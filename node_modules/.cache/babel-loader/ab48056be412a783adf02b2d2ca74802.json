{"ast":null,"code":"import _slicedToArray from \"/home/thomas/orleans-1019-findex/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nimport _taggedTemplateLiteral from \"/home/thomas/orleans-1019-findex/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral\";\nvar _jsxFileName = \"/home/thomas/orleans-1019-findex/src/components/Pokemon.js\";\n\nfunction _templateObject2() {\n  const data = _taggedTemplateLiteral([\"\", \"\"]);\n\n  _templateObject2 = function () {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject() {\n  const data = _taggedTemplateLiteral([\"animation: 1s \", \"\"]);\n\n  _templateObject = function () {\n    return data;\n  };\n\n  return data;\n}\n\nimport React, { useState, useEffect } from 'react';\nimport Description from './Description';\nimport styled, { keyframes } from 'styled-components';\nimport { fadeIn } from 'react-animations';\nimport './Pokemon.css';\nconst FadeIn = styled.div(_templateObject(), keyframes(_templateObject2(), fadeIn));\n\nconst Pokemon = props => {\n  const _useState = useState(\"\"),\n        _useState2 = _slicedToArray(_useState, 2),\n        id = _useState2[0],\n        setId = _useState2[1];\n\n  const _useState3 = useState(\"\"),\n        _useState4 = _slicedToArray(_useState3, 2),\n        name = _useState4[0],\n        setName = _useState4[1];\n\n  const _useState5 = useState(\"\"),\n        _useState6 = _slicedToArray(_useState5, 2),\n        front = _useState6[0],\n        setFront = _useState6[1];\n\n  const _useState7 = useState(\"\"),\n        _useState8 = _slicedToArray(_useState7, 2),\n        frontShiny = _useState8[0],\n        setFrontShiny = _useState8[1];\n\n  const _useState9 = useState(\"\"),\n        _useState10 = _slicedToArray(_useState9, 2),\n        height = _useState10[0],\n        setHeight = _useState10[1];\n\n  const _useState11 = useState(\"\"),\n        _useState12 = _slicedToArray(_useState11, 2),\n        weight = _useState12[0],\n        setWeight = _useState12[1];\n\n  const _useState13 = useState([]),\n        _useState14 = _slicedToArray(_useState13, 2),\n        types = _useState14[0],\n        setTypes = _useState14[1];\n\n  const _useState15 = useState([]),\n        _useState16 = _slicedToArray(_useState15, 2),\n        moves = _useState16[0],\n        setMoves = _useState16[1];\n\n  const _useState17 = useState([]),\n        _useState18 = _slicedToArray(_useState17, 2),\n        stats = _useState18[0],\n        setStats = _useState18[1];\n\n  const _useState19 = useState([]),\n        _useState20 = _slicedToArray(_useState19, 2),\n        abilities = _useState20[0],\n        setAbilities = _useState20[1];\n\n  const _useState21 = useState(\"\"),\n        _useState22 = _slicedToArray(_useState21, 2),\n        img = _useState22[0],\n        setImg = _useState22[1];\n\n  const _useState23 = useState(false),\n        _useState24 = _slicedToArray(_useState23, 2),\n        showAttaque = _useState24[0],\n        setShowAttaque = _useState24[1]; // retourne les types du pokemon\n  // [\"flying\", \"fire\"] pour Charizard\n\n\n  const getTypes = pokemon => {\n    return pokemon.types.map(type => {\n      return type.type.name;\n    });\n  };\n\n  const getName = () => {\n    props.getPokemon(name);\n  };\n\n  useEffect(() => {\n    fetch(\"https://pokeapi.co/api/v2/pokemon/\".concat(props.name)).then(res => res.json()).then(res => {\n      props.getPokemon(res);\n      setName(res.name);\n      setFront(res.sprites.front_default);\n      setFrontShiny(res.sprites.front_shiny);\n      setHeight(parseInt(res.height));\n      setId(res.id);\n      setTypes(getTypes(res)); // pour avoir un tableau des elements pour faciliter l'affichage.\n\n      setWeight(parseInt(res.weight));\n      setMoves(res.moves);\n      setStats(res.stats);\n      setAbilities(res.abilities);\n      return res;\n    }).then(res => {\n      if (res.id > 727) {\n        setImg(res.sprites.front_default);\n      } else {\n        setImg(\"https://raw.githubusercontent.com/tdmalone/pokecss-media/master/graphics/pokemon/ani-front/\".concat(res.name, \".gif\"));\n      }\n    });\n    setShowAttaque(false);\n  }, [props.name]);\n\n  const toggleImage = () => {\n    if (id > 721) {\n      setImg(img === frontShiny ? frontShiny : front);\n    } else {\n      setImg(img.includes('shiny') ? \"https://raw.githubusercontent.com/tdmalone/pokecss-media/master/graphics/pokemon/ani-front/\".concat(name, \".gif\") : \"https://raw.githubusercontent.com/tdmalone/pokecss-media/master/graphics/pokemon/ani-front-shiny/\".concat(name, \".gif\"));\n    }\n  };\n\n  return React.createElement(\"div\", {\n    className: \"Search\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78\n    },\n    __self: this\n  }, name.length ? React.createElement(\"div\", {\n    className: \"pokemonPage\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80\n    },\n    __self: this\n  }, React.createElement(FadeIn, {\n    className: \"headPokemon\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"main\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82\n    },\n    __self: this\n  }, React.createElement(\"h3\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83\n    },\n    __self: this\n  }, name, \" #\", id), React.createElement(\"img\", {\n    onMouseEnter: toggleImage,\n    onMouseLeave: toggleImage,\n    src: img,\n    alt: name,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84\n    },\n    __self: this\n  }), React.createElement(\"div\", {\n    className: \"abilities framed\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85\n    },\n    __self: this\n  }, React.createElement(\"h4\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86\n    },\n    __self: this\n  }, \"Abilities\"), abilities.map((ability, index) => {\n    return React.createElement(\"p\", {\n      key: index,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88\n      },\n      __self: this\n    }, ability.ability.name);\n  }))), id ? React.createElement(Description, {\n    getName: props.getName,\n    id: id,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92\n    },\n    __self: this\n  }) : \"not found yet\"), React.createElement(FadeIn, {\n    className: \"informations framed\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94\n    },\n    __self: this\n  }, React.createElement(\"h4\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95\n    },\n    __self: this\n  }, \"Informations\"), React.createElement(\"div\", {\n    className: \"stat\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"baseStat\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"types\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98\n    },\n    __self: this\n  }, types.map((type, index) => {\n    return React.createElement(\"img\", {\n      alt: type,\n      key: index,\n      src: require(\"../image/types/\" + type + \".png\"),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 100\n      },\n      __self: this\n    });\n  })), React.createElement(\"p\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 103\n    },\n    __self: this\n  }, React.createElement(\"span\", {\n    className: \"statName\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 103\n    },\n    __self: this\n  }, \"Height\"), \" :\", React.createElement(\"span\", {\n    className: \"statValue\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 103\n    },\n    __self: this\n  }, \" \", height / 10, \" \"), \"m \"), React.createElement(\"p\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 104\n    },\n    __self: this\n  }, React.createElement(\"span\", {\n    className: \"statName\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 104\n    },\n    __self: this\n  }, \"Weigth\"), \" : \", React.createElement(\"span\", {\n    className: \"statValue\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 104\n    },\n    __self: this\n  }, \" \", weight / 10, \" \"), \"kg\")), React.createElement(\"div\", {\n    className: \"combatStat\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 106\n    },\n    __self: this\n  }, stats.map((stat, index) => {\n    return React.createElement(\"p\", {\n      key: index,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 108\n      },\n      __self: this\n    }, React.createElement(\"span\", {\n      className: \"statName\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 108\n      },\n      __self: this\n    }, stat.stat.name), \" : \", React.createElement(\"span\", {\n      className: \"statValue\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 108\n      },\n      __self: this\n    }, stat.base_stat));\n  }))), showAttaque ? React.createElement(\"div\", {\n    className: \"active\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 114\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"moves\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 115\n    },\n    __self: this\n  }, moves.map((move, index) => {\n    return index >= 4 ? null : React.createElement(FadeIn, {\n      key: index,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 118\n      },\n      __self: this\n    }, move.move.name);\n  })), React.createElement(\"h4\", {\n    className: \"buttonMoves\",\n    onClick: () => setShowAttaque(!showAttaque),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 123\n    },\n    __self: this\n  }, \"Close\")) : React.createElement(\"div\", {\n    className: \"moves\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 126\n    },\n    __self: this\n  }, React.createElement(\"h4\", {\n    className: \"buttonMoves\",\n    onClick: () => setShowAttaque(!showAttaque),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 127\n    },\n    __self: this\n  }, \"Attack\")))) : null);\n};\n\nexport default Pokemon;","map":{"version":3,"sources":["/home/thomas/orleans-1019-findex/src/components/Pokemon.js"],"names":["React","useState","useEffect","Description","styled","keyframes","fadeIn","FadeIn","div","Pokemon","props","id","setId","name","setName","front","setFront","frontShiny","setFrontShiny","height","setHeight","weight","setWeight","types","setTypes","moves","setMoves","stats","setStats","abilities","setAbilities","img","setImg","showAttaque","setShowAttaque","getTypes","pokemon","map","type","getName","getPokemon","fetch","then","res","json","sprites","front_default","front_shiny","parseInt","toggleImage","includes","length","ability","index","require","stat","base_stat","move"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport Description from './Description';\n\nimport styled, {keyframes} from 'styled-components';\nimport {fadeIn} from 'react-animations';\n\nimport './Pokemon.css';\n\n\nconst FadeIn = styled.div`animation: 1s ${keyframes`${fadeIn}`}`;\n\nconst Pokemon = (props) => {\n\n    const [id, setId] = useState(\"\");\n    const [name,setName] = useState(\"\");\n    const [front, setFront] = useState(\"\");\n    const [frontShiny, setFrontShiny] =useState(\"\");\n    const [height, setHeight] = useState(\"\");\n    const [weight, setWeight] = useState(\"\");\n    const [types, setTypes] = useState([]);\n    const [moves, setMoves] = useState([]);\n    const [stats, setStats] = useState([]);\n    const [abilities, setAbilities] = useState([]);\n    const [img, setImg] = useState(\"\");\n    const [showAttaque, setShowAttaque] = useState(false);\n\n    // retourne les types du pokemon\n    // [\"flying\", \"fire\"] pour Charizard\n    const getTypes = (pokemon) => {\n        return pokemon.types.map( type => {\n            return type.type.name;\n        });\n    }\n\n    const getName = () => {\n        props.getPokemon(name);\n    }\n\n    useEffect(() => {\n        fetch(`https://pokeapi.co/api/v2/pokemon/${props.name}`)\n            .then(res => res.json())\n            .then(res => {\n                    props.getPokemon(res);\n                    setName (res.name);\n                    setFront(res.sprites.front_default);\n                    setFrontShiny(res.sprites.front_shiny);\n                    setHeight(parseInt(res.height));\n                    setId(res.id);\n                    setTypes(getTypes(res)); // pour avoir un tableau des elements pour faciliter l'affichage.\n                    setWeight(parseInt(res.weight));\n                    setMoves(res.moves);\n                    setStats(res.stats);\n                    setAbilities(res.abilities);\n                    return res\n                })\n            .then( res => {\n                    if(res.id>727) {\n                        setImg(res.sprites.front_default);\n                    }\n                    else{\n                        setImg(`https://raw.githubusercontent.com/tdmalone/pokecss-media/master/graphics/pokemon/ani-front/${res.name}.gif`);\n                    }\n                }\n            )\n            setShowAttaque(false);\n    }, [props.name])\n\n    const toggleImage = () => {\n        if(id>721){\n            setImg(img===frontShiny ? frontShiny : front);\n        }\n        else {\n            setImg(img.includes('shiny') ? `https://raw.githubusercontent.com/tdmalone/pokecss-media/master/graphics/pokemon/ani-front/${name}.gif` : `https://raw.githubusercontent.com/tdmalone/pokecss-media/master/graphics/pokemon/ani-front-shiny/${name}.gif`);\n        }\n    }\n\n    return (\n        <div className='Search'>\n            {name.length?\n                <div className=\"pokemonPage\">\n                    <FadeIn className=\"headPokemon\">\n                        <div className=\"main\">\n                            <h3>{name} #{id}</h3>\n                            <img onMouseEnter={toggleImage} onMouseLeave={toggleImage} src={img} alt={name}/>\n                            <div className=\"abilities framed\">\n                                <h4>Abilities</h4>\n                                {abilities.map((ability,index) => {\n                                    return <p key={index}>{ability.ability.name}</p>\n                                })}\n                            </div>\n                        </div>\n                        {id ? <Description getName={props.getName} id={id}/> : \"not found yet\"}\n                    </FadeIn>\n                    <FadeIn className=\"informations framed\">\n                        <h4>Informations</h4>\n                        <div className=\"stat\">\n                            <div className=\"baseStat\">\n                                <div className=\"types\">\n                                    {types.map( (type,index) => {\n                                       return <img alt={type} key={index} src={require(\"../image/types/\"+type+\".png\")}/>\n                                    })}\n                                </div>\n                                <p><span className=\"statName\">Height</span> :<span className=\"statValue\"> {height/10} </span>m </p>\n                                <p><span className=\"statName\">Weigth</span> : <span className=\"statValue\"> {weight/10} </span>kg</p>\n                            </div>\n                            <div className=\"combatStat\">\n                                {stats.map((stat,index) => {\n                                    return <p key={index}><span className=\"statName\">{stat.stat.name}</span> : <span className=\"statValue\">{stat.base_stat}</span></p>\n                                })}\n                            </div>\n                        </div>\n\n                        { showAttaque ?\n                            <div className=\"active\">\n                                <div className=\"moves\">\n                                    {moves.map((move, index) => {\n                                        return index>=4 ? null : (\n                                            <FadeIn key={index}>\n                                                {move.move.name}\n                                            </FadeIn>);\n                                    })}\n                                </div>\n                                <h4 className=\"buttonMoves\" onClick={() => setShowAttaque(!showAttaque)}>Close</h4>\n                            </div>\n                            :\n                            <div className=\"moves\">\n                                <h4 className=\"buttonMoves\" onClick={() => setShowAttaque(!showAttaque)}>Attack</h4>\n                            </div>\n                        }\n                    </FadeIn>\n                </div>\n            :\n            null}\n        </div>\n    )\n};\n\nexport default Pokemon;\n"]},"metadata":{},"sourceType":"module"}